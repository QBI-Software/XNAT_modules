<!DOCTYPE html>
    $page.setTitle("CANTAB DMS")
    $page.setLinkColor($ui.alink)
    $page.setVlinkColor($ui.vlink)
##----------------------------------------
## MODIFIED FOR BOOTStrAP - QBI - e.cooperwilliams@uq.edu.au
##
##----------------------------------------
    #parse("/screens/macrolists.vm")
<script type="text/javascript">
    window.currentID = "$!om.getId()";
        #if($om.getProject())
            #if($om.getProject().equals(""))
            window.currentProject = "$!project";
            #else
            window.currentProject = "$!om.getProject()";
            #end
        #else
        window.currentProject = "$!project";
        #end

    window.currentSubject = "$!om.getSubjectId()";
    window.currentLabel = "$!om.getLabel()";
</script>
#if ($data.message)
<div class="alert alert-danger error"><span>$data.message</span></div>
#end
<div id="EditForm" class="container col-md-8">
    <form ID="form1" name="form1" method="post" action="$link.setAction("ModifySubjectAssessorData")">
        <input type="hidden" name="project" value="$!{project}">
        <input type="hidden" name="part_id" value="$!{part_id}">
        <input type='hidden' name='$om.getXSIType()/ID' value='$!item.getProperty("ID")'/>
        <input type="hidden" name="$om.getXSIType()/project" value='$!{project}'/>
        <input type='hidden' name='$om.getXSIType()/subject_ID'
               value='$!item.getProperty("$om.getXSIType()/subject_ID")'/>
        <input type="hidden" name="$om.getXSIType().date.month" id="$om.getXSIType().date.month" value=""/>
        <input type="hidden" name="$om.getXSIType().date.date" id="$om.getXSIType().date.date" value=""/>
        <input type="hidden" name="$om.getXSIType().date.year" id="$om.getXSIType().date.year" value=""/>
        #if($vr)
            <div class="alert alert-danger">Invalid parameters:<br/>$vr.toHTML()</div>
        #end
        <div class="row btn-success"><h3 class="edit-title">CANTAB Delayed Match to Sample (DMS) #if($om.getId()) : Edit #else  : New #end</h3></div>
        <div class="row">
            #parse("/screens/xnat_edit_subjectAssessorData.vm")
        </div>
        <div class="row">
            #parse("/screens/EditProjectSpecificFields.vm")
        </div>
        <table class="table table-striped">
            <!-- BEGIN opex:cantabDMS -->
            <tbody>
                #parse("/screens/XDATScreen_edit_opex_exerciseData.vm")
            <tr>
                <td>DMSCC</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSCC" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSML</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSML" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSML0</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSML0" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSML12</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSML12" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSMLAD</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSMLAD" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSPC</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSPC" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSPC0</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSPC0" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSPC12</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSPC12" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSPCAD</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSPCAD" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSTC0</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSTC0" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSTC12</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSTC12" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSTCAD</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSTCAD" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSTCS</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSTCS" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSTE</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSTE" $item "" $vr)</td>
            </tr>
            <tr>
                <td>DMSTEAD</td>
                <td>#xdatNumberBox("opex:cantabDMS/DMSTEAD" $item "" $vr)</td>
            </tr>
            </tbody>
        </table>

        <!-- END opex:cantabDMS -->
#parse("screens/validateform.vm")